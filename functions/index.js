/**
 * Import function triggers from their respective submodules:
 *
 * const {onCall} = require("firebase-functions/v2/https");
 * const {onDocumentWritten} = require("firebase-functions/v2/firestore");
 *
 * See a full list of supported triggers at https://firebase.google.com/docs/functions
 */

const {onRequest} = require("firebase-functions/v2/https");
const logger = require("firebase-functions/logger");

const app = require('./api/api');

exports.api = onRequest(
    {timeoutSeconds: 15, cors: true, maxInstances: 10},
    app
);

/*
exports.saveJsonToFirestore = onRequest(
    {timeoutSeconds: 300, cors: true, maxInstances: 10},
    async () => {


        let jsonString = "[{\"stateId\":\"1010\",\"stateName\":\"\\uac15\\uc6d0\",\"cities\":[{\"cityId\":\"101010\",\"cityName\":\"\\uac15\\ub989\\uc2dc\"},{\"cityId\":\"101020\",\"cityName\":\"\\uace0\\uc131\\uad70\"},{\"cityId\":\"101030\",\"cityName\":\"\\ub3d9\\ud574\\uc2dc\"},{\"cityId\":\"101040\",\"cityName\":\"\\uc0bc\\ucc99\\uc2dc\"},{\"cityId\":\"101050\",\"cityName\":\"\\uc18d\\ucd08\\uc2dc\"},{\"cityId\":\"101060\",\"cityName\":\"\\uc591\\uad6c\\uad70\"},{\"cityId\":\"101070\",\"cityName\":\"\\uc591\\uc591\\uad70\"},{\"cityId\":\"101080\",\"cityName\":\"\\uc601\\uc6d4\\uad70\"},{\"cityId\":\"101090\",\"cityName\":\"\\uc6d0\\uc8fc\\uc2dc\"},{\"cityId\":\"1010a0\",\"cityName\":\"\\uc778\\uc81c\\uad70\"},{\"cityId\":\"1010b0\",\"cityName\":\"\\uc815\\uc120\\uad70\"},{\"cityId\":\"1010c0\",\"cityName\":\"\\ucca0\\uc6d0\\uad70\"},{\"cityId\":\"1010d0\",\"cityName\":\"\\ucd98\\ucc9c\\uc2dc\"},{\"cityId\":\"1010e0\",\"cityName\":\"\\ud0dc\\ubc31\\uc2dc\"},{\"cityId\":\"1010f0\",\"cityName\":\"\\ud3c9\\ucc3d\\uad70\"},{\"cityId\":\"1010g0\",\"cityName\":\"\\ud64d\\ucc9c\\uad70\"},{\"cityId\":\"1010h0\",\"cityName\":\"\\ud654\\ucc9c\\uad70\"},{\"cityId\":\"1010i0\",\"cityName\":\"\\ud6a1\\uc131\\uad70\"}]},{\"stateId\":\"1020\",\"stateName\":\"\\uacbd\\uae30\",\"cities\":[{\"cityId\":\"102010\",\"cityName\":\"\\uac00\\ud3c9\\uad70\"},{\"cityId\":\"102020\",\"cityName\":\"\\uace0\\uc591\\uc2dc\"},{\"cityId\":\"102030\",\"cityName\":\"\\uacfc\\ucc9c\\uc2dc\"},{\"cityId\":\"102040\",\"cityName\":\"\\uad11\\uba85\\uc2dc\"},{\"cityId\":\"102050\",\"cityName\":\"\\uad11\\uc8fc\\uc2dc\"},{\"cityId\":\"102060\",\"cityName\":\"\\uad6c\\ub9ac\\uc2dc\"},{\"cityId\":\"102070\",\"cityName\":\"\\uad70\\ud3ec\\uc2dc\"},{\"cityId\":\"102080\",\"cityName\":\"\\uae40\\ud3ec\\uc2dc\"},{\"cityId\":\"102090\",\"cityName\":\"\\ub0a8\\uc591\\uc8fc\\uc2dc\"},{\"cityId\":\"1020a0\",\"cityName\":\"\\ub3d9\\ub450\\ucc9c\\uc2dc\"},{\"cityId\":\"1020b0\",\"cityName\":\"\\ubd80\\ucc9c\\uc2dc\"},{\"cityId\":\"1020c0\",\"cityName\":\"\\uc131\\ub0a8\\uc2dc\"},{\"cityId\":\"1020d0\",\"cityName\":\"\\uc218\\uc6d0\\uc2dc\"},{\"cityId\":\"1020e0\",\"cityName\":\"\\uc2dc\\ud765\\uc2dc\"},{\"cityId\":\"1020f0\",\"cityName\":\"\\uc548\\uc0b0\\uc2dc\"},{\"cityId\":\"1020g0\",\"cityName\":\"\\uc548\\uc131\\uc2dc\"},{\"cityId\":\"1020h0\",\"cityName\":\"\\uc548\\uc591\\uc2dc\"},{\"cityId\":\"1020i0\",\"cityName\":\"\\uc591\\uc8fc\\uc2dc\"},{\"cityId\":\"1020j0\",\"cityName\":\"\\uc591\\ud3c9\\uad70\"},{\"cityId\":\"1020k0\",\"cityName\":\"\\uc5ec\\uc8fc\\uc2dc\"},{\"cityId\":\"1020l0\",\"cityName\":\"\\uc5f0\\ucc9c\\uad70\"},{\"cityId\":\"1020m0\",\"cityName\":\"\\uc624\\uc0b0\\uc2dc\"},{\"cityId\":\"1020n0\",\"cityName\":\"\\uc6a9\\uc778\\uc2dc\"},{\"cityId\":\"1020o0\",\"cityName\":\"\\uc758\\uc655\\uc2dc\"},{\"cityId\":\"1020p0\",\"cityName\":\"\\uc758\\uc815\\ubd80\\uc2dc\"},{\"cityId\":\"1020q0\",\"cityName\":\"\\uc774\\ucc9c\\uc2dc\"},{\"cityId\":\"1020r0\",\"cityName\":\"\\ud30c\\uc8fc\\uc2dc\"},{\"cityId\":\"1020s0\",\"cityName\":\"\\ud3c9\\ud0dd\\uc2dc\"},{\"cityId\":\"1020t0\",\"cityName\":\"\\ud3ec\\ucc9c\\uc2dc\"},{\"cityId\":\"1020u0\",\"cityName\":\"\\ud558\\ub0a8\\uc2dc\"},{\"cityId\":\"1020v0\",\"cityName\":\"\\ud654\\uc131\\uc2dc\"}]},{\"stateId\":\"1030\",\"stateName\":\"\\uacbd\\ub0a8\",\"cities\":[{\"cityId\":\"103010\",\"cityName\":\"\\uac70\\uc81c\\uc2dc\"},{\"cityId\":\"103020\",\"cityName\":\"\\uac70\\ucc3d\\uad70\"},{\"cityId\":\"103030\",\"cityName\":\"\\uace0\\uc131\\uad70\"},{\"cityId\":\"103040\",\"cityName\":\"\\uae40\\ud574\\uc2dc\"},{\"cityId\":\"103050\",\"cityName\":\"\\ub0a8\\ud574\\uad70\"},{\"cityId\":\"103070\",\"cityName\":\"\\ubc00\\uc591\\uc2dc\"},{\"cityId\":\"103080\",\"cityName\":\"\\uc0ac\\ucc9c\\uc2dc\"},{\"cityId\":\"103090\",\"cityName\":\"\\uc0b0\\uccad\\uad70\"},{\"cityId\":\"1030a0\",\"cityName\":\"\\uc591\\uc0b0\\uc2dc\"},{\"cityId\":\"1030b0\",\"cityName\":\"\\uc758\\ub839\\uad70\"},{\"cityId\":\"1030c0\",\"cityName\":\"\\uc9c4\\uc8fc\\uc2dc\"},{\"cityId\":\"1030e0\",\"cityName\":\"\\ucc3d\\ub155\\uad70\"},{\"cityId\":\"1030f0\",\"cityName\":\"\\ucc3d\\uc6d0\\uc2dc\"},{\"cityId\":\"1030g0\",\"cityName\":\"\\ud1b5\\uc601\\uc2dc\"},{\"cityId\":\"1030h0\",\"cityName\":\"\\ud558\\ub3d9\\uad70\"},{\"cityId\":\"1030i0\",\"cityName\":\"\\ud568\\uc548\\uad70\"},{\"cityId\":\"1030j0\",\"cityName\":\"\\ud568\\uc591\\uad70\"},{\"cityId\":\"1030k0\",\"cityName\":\"\\ud569\\ucc9c\\uad70\"}]},{\"stateId\":\"1040\",\"stateName\":\"\\uacbd\\ubd81\",\"cities\":[{\"cityId\":\"104010\",\"cityName\":\"\\uacbd\\uc0b0\\uc2dc\"},{\"cityId\":\"104020\",\"cityName\":\"\\uacbd\\uc8fc\\uc2dc\"},{\"cityId\":\"104030\",\"cityName\":\"\\uace0\\ub839\\uad70\"},{\"cityId\":\"104040\",\"cityName\":\"\\uad6c\\ubbf8\\uc2dc\"},{\"cityId\":\"104050\",\"cityName\":\"\\uad70\\uc704\\uad70\"},{\"cityId\":\"104060\",\"cityName\":\"\\uae40\\ucc9c\\uc2dc\"},{\"cityId\":\"104070\",\"cityName\":\"\\ubb38\\uacbd\\uc2dc\"},{\"cityId\":\"104080\",\"cityName\":\"\\ubd09\\ud654\\uad70\"},{\"cityId\":\"104090\",\"cityName\":\"\\uc0c1\\uc8fc\\uc2dc\"},{\"cityId\":\"1040a0\",\"cityName\":\"\\uc131\\uc8fc\\uad70\"},{\"cityId\":\"1040b0\",\"cityName\":\"\\uc548\\ub3d9\\uc2dc\"},{\"cityId\":\"1040c0\",\"cityName\":\"\\uc601\\ub355\\uad70\"},{\"cityId\":\"1040e0\",\"cityName\":\"\\uc601\\uc591\\uad70\"},{\"cityId\":\"1040f0\",\"cityName\":\"\\uc601\\uc8fc\\uc2dc\"},{\"cityId\":\"1040g0\",\"cityName\":\"\\uc601\\ucc9c\\uc2dc\"},{\"cityId\":\"1040h0\",\"cityName\":\"\\uc608\\ucc9c\\uad70\"},{\"cityId\":\"1040i0\",\"cityName\":\"\\uc6b8\\ub989\\uad70\"},{\"cityId\":\"1040j0\",\"cityName\":\"\\uc6b8\\uc9c4\\uad70\"},{\"cityId\":\"1040k0\",\"cityName\":\"\\uc758\\uc131\\uad70\"},{\"cityId\":\"1040m0\",\"cityName\":\"\\uccad\\ub3c4\\uad70\"},{\"cityId\":\"1040n0\",\"cityName\":\"\\uccad\\uc1a1\\uad70\"},{\"cityId\":\"1040o0\",\"cityName\":\"\\uce60\\uace1\\uad70\"},{\"cityId\":\"1040p0\",\"cityName\":\"\\ud3ec\\ud56d\\uc2dc\"}]},{\"stateId\":\"1050\",\"stateName\":\"\\uc81c\\uc8fc\",\"cities\":[{\"cityId\":\"105030\",\"cityName\":\"\\uc11c\\uadc0\\ud3ec\\uc2dc\"},{\"cityId\":\"105040\",\"cityName\":\"\\uc81c\\uc8fc\\uc2dc\"}]},{\"stateId\":\"1070\",\"stateName\":\"\\uc6b8\\uc0b0\",\"cities\":[{\"cityId\":\"107010\",\"cityName\":\"\\ub0a8\\uad6c\"},{\"cityId\":\"107020\",\"cityName\":\"\\ub3d9\\uad6c\"},{\"cityId\":\"107030\",\"cityName\":\"\\ubd81\\uad6c\"},{\"cityId\":\"107040\",\"cityName\":\"\\uc6b8\\uc8fc\"},{\"cityId\":\"107050\",\"cityName\":\"\\uc911\\uad6c\"}]},{\"stateId\":\"1080\",\"stateName\":\"\\uc11c\\uc6b8\",\"cities\":[{\"cityId\":\"108010\",\"cityName\":\"\\uac15\\ub0a8\\uad6c\"},{\"cityId\":\"108020\",\"cityName\":\"\\uac15\\ub3d9\\uad6c\"},{\"cityId\":\"108030\",\"cityName\":\"\\uac15\\ubd81\\uad6c\"},{\"cityId\":\"108040\",\"cityName\":\"\\uac15\\uc11c\\uad6c\"},{\"cityId\":\"108050\",\"cityName\":\"\\uad00\\uc545\\uad6c\"},{\"cityId\":\"108060\",\"cityName\":\"\\uad11\\uc9c4\\uad6c\"},{\"cityId\":\"108070\",\"cityName\":\"\\uad6c\\ub85c\\uad6c\"},{\"cityId\":\"108080\",\"cityName\":\"\\uae08\\ucc9c\\uad6c\"},{\"cityId\":\"108090\",\"cityName\":\"\\ub178\\uc6d0\\uad6c\"},{\"cityId\":\"1080a0\",\"cityName\":\"\\ub3c4\\ubd09\\uad6c\"},{\"cityId\":\"1080b0\",\"cityName\":\"\\ub3d9\\ub300\\ubb38\\uad6c\"},{\"cityId\":\"1080c0\",\"cityName\":\"\\ub3d9\\uc791\\uad6c\"},{\"cityId\":\"1080d0\",\"cityName\":\"\\ub9c8\\ud3ec\\uad6c\"},{\"cityId\":\"1080e0\",\"cityName\":\"\\uc11c\\ub300\\ubb38\\uad6c\"},{\"cityId\":\"1080f0\",\"cityName\":\"\\uc11c\\ucd08\\uad6c\"},{\"cityId\":\"1080g0\",\"cityName\":\"\\uc131\\ub3d9\\uad6c\"},{\"cityId\":\"1080h0\",\"cityName\":\"\\uc131\\ubd81\\uad6c\"},{\"cityId\":\"1080i0\",\"cityName\":\"\\uc1a1\\ud30c\\uad6c\"},{\"cityId\":\"1080j0\",\"cityName\":\"\\uc591\\ucc9c\\uad6c\"},{\"cityId\":\"1080k0\",\"cityName\":\"\\uc601\\ub4f1\\ud3ec\\uad6c\"},{\"cityId\":\"1080l0\",\"cityName\":\"\\uc6a9\\uc0b0\\uad6c\"},{\"cityId\":\"1080m0\",\"cityName\":\"\\uc740\\ud3c9\\uad6c\"},{\"cityId\":\"1080n0\",\"cityName\":\"\\uc885\\ub85c\\uad6c\"},{\"cityId\":\"1080o0\",\"cityName\":\"\\uc911\\uad6c\"},{\"cityId\":\"1080p0\",\"cityName\":\"\\uc911\\ub791\\uad6c\"}]},{\"stateId\":\"1090\",\"stateName\":\"\\ucda9\\ubd81\",\"cities\":[{\"cityId\":\"109010\",\"cityName\":\"\\uad34\\uc0b0\\uad70\"},{\"cityId\":\"109020\",\"cityName\":\"\\ub2e8\\uc591\\uad70\"},{\"cityId\":\"109030\",\"cityName\":\"\\ubcf4\\uc740\\uad70\"},{\"cityId\":\"109040\",\"cityName\":\"\\uc601\\ub3d9\\uad70\"},{\"cityId\":\"109050\",\"cityName\":\"\\uc625\\ucc9c\\uad70\"},{\"cityId\":\"109060\",\"cityName\":\"\\uc74c\\uc131\\uad70\"},{\"cityId\":\"109070\",\"cityName\":\"\\uc81c\\ucc9c\\uc2dc\"},{\"cityId\":\"109080\",\"cityName\":\"\\uc9c4\\ucc9c\\uad70\"},{\"cityId\":\"109090\",\"cityName\":\"\\uccad\\uc6d0\\uad70\"},{\"cityId\":\"1090a0\",\"cityName\":\"\\uccad\\uc8fc\\uc2dc\"},{\"cityId\":\"1090b0\",\"cityName\":\"\\ucda9\\uc8fc\\uc2dc\"},{\"cityId\":\"1090c0\",\"cityName\":\"\\uc99d\\ud3c9\\uad70\"}]},{\"stateId\":\"10a0\",\"stateName\":\"\\ucda9\\ub0a8\",\"cities\":[{\"cityId\":\"10a010\",\"cityName\":\"\\uacf5\\uc8fc\\uc2dc\"},{\"cityId\":\"10a020\",\"cityName\":\"\\uae08\\uc0b0\\uad70\"},{\"cityId\":\"10a030\",\"cityName\":\"\\ub17c\\uc0b0\\uc2dc\"},{\"cityId\":\"10a040\",\"cityName\":\"\\ub2f9\\uc9c4\\uc2dc\"},{\"cityId\":\"10a050\",\"cityName\":\"\\ubcf4\\ub839\\uc2dc\"},{\"cityId\":\"10a060\",\"cityName\":\"\\ubd80\\uc5ec\\uad70\"},{\"cityId\":\"10a070\",\"cityName\":\"\\uc11c\\uc0b0\\uc2dc\"},{\"cityId\":\"10a080\",\"cityName\":\"\\uc11c\\ucc9c\\uad70\"},{\"cityId\":\"10a090\",\"cityName\":\"\\uc544\\uc0b0\\uc2dc\"},{\"cityId\":\"10a0a0\",\"cityName\":\"\\uacc4\\ub8e1\\uc2dc\"},{\"cityId\":\"10a0b0\",\"cityName\":\"\\uc608\\uc0b0\\uad70\"},{\"cityId\":\"10a0c0\",\"cityName\":\"\\ucc9c\\uc548\\uc2dc\"},{\"cityId\":\"10a0d0\",\"cityName\":\"\\uccad\\uc591\\uad70\"},{\"cityId\":\"10a0e0\",\"cityName\":\"\\ud0dc\\uc548\\uad70\"},{\"cityId\":\"10a0f0\",\"cityName\":\"\\ud64d\\uc131\\uad70\"}]},{\"stateId\":\"10b0\",\"stateName\":\"\\uc804\\ubd81\",\"cities\":[{\"cityId\":\"10b010\",\"cityName\":\"\\uace0\\ucc3d\\uad70\"},{\"cityId\":\"10b020\",\"cityName\":\"\\uad70\\uc0b0\\uc2dc\"},{\"cityId\":\"10b030\",\"cityName\":\"\\uae40\\uc81c\\uc2dc\"},{\"cityId\":\"10b040\",\"cityName\":\"\\ub0a8\\uc6d0\\uc2dc\"},{\"cityId\":\"10b050\",\"cityName\":\"\\ubb34\\uc8fc\\uad70\"},{\"cityId\":\"10b060\",\"cityName\":\"\\ubd80\\uc548\\uad70\"},{\"cityId\":\"10b070\",\"cityName\":\"\\uc21c\\ucc3d\\uad70\"},{\"cityId\":\"10b080\",\"cityName\":\"\\uc644\\uc8fc\\uad70\"},{\"cityId\":\"10b090\",\"cityName\":\"\\uc775\\uc0b0\\uc2dc\"},{\"cityId\":\"10b0a0\",\"cityName\":\"\\uc784\\uc2e4\\uad70\"},{\"cityId\":\"10b0b0\",\"cityName\":\"\\uc7a5\\uc218\\uad70\"},{\"cityId\":\"10b0c0\",\"cityName\":\"\\uc804\\uc8fc\\uc2dc\"},{\"cityId\":\"10b0d0\",\"cityName\":\"\\uc815\\uc74d\\uc2dc\"},{\"cityId\":\"10b0e0\",\"cityName\":\"\\uc9c4\\uc548\\uad70\"}]},{\"stateId\":\"10c0\",\"stateName\":\"\\uc804\\ub0a8\",\"cities\":[{\"cityId\":\"10c010\",\"cityName\":\"\\uac15\\uc9c4\\uad70\"},{\"cityId\":\"10c020\",\"cityName\":\"\\uace0\\ud765\\uad70\"},{\"cityId\":\"10c030\",\"cityName\":\"\\uace1\\uc131\\uad70\"},{\"cityId\":\"10c040\",\"cityName\":\"\\uad11\\uc591\\uc2dc\"},{\"cityId\":\"10c050\",\"cityName\":\"\\uad6c\\ub840\\uad70\"},{\"cityId\":\"10c060\",\"cityName\":\"\\ub098\\uc8fc\\uc2dc\"},{\"cityId\":\"10c070\",\"cityName\":\"\\ub2f4\\uc591\\uad70\"},{\"cityId\":\"10c080\",\"cityName\":\"\\ubaa9\\ud3ec\\uc2dc\"},{\"cityId\":\"10c090\",\"cityName\":\"\\ubb34\\uc548\\uad70\"},{\"cityId\":\"10c0a0\",\"cityName\":\"\\ubcf4\\uc131\\uad70\"},{\"cityId\":\"10c0b0\",\"cityName\":\"\\uc21c\\ucc9c\\uc2dc\"},{\"cityId\":\"10c0c0\",\"cityName\":\"\\uc2e0\\uc548\\uad70\"},{\"cityId\":\"10c0d0\",\"cityName\":\"\\uc5ec\\uc218\\uc2dc\"},{\"cityId\":\"10c0e0\",\"cityName\":\"\\uc601\\uad11\\uad70\"},{\"cityId\":\"10c0f0\",\"cityName\":\"\\uc601\\uc554\\uad70\"},{\"cityId\":\"10c0g0\",\"cityName\":\"\\uc644\\ub3c4\\uad70\"},{\"cityId\":\"10c0h0\",\"cityName\":\"\\uc7a5\\uc131\\uad70\"},{\"cityId\":\"10c0i0\",\"cityName\":\"\\uc7a5\\ud765\\uad70\"},{\"cityId\":\"10c0j0\",\"cityName\":\"\\uc9c4\\ub3c4\\uad70\"},{\"cityId\":\"10c0k0\",\"cityName\":\"\\ud568\\ud3c9\\uad70\"},{\"cityId\":\"10c0l0\",\"cityName\":\"\\ud574\\ub0a8\\uad70\"},{\"cityId\":\"10c0m0\",\"cityName\":\"\\ud654\\uc21c\\uad70\"}]},{\"stateId\":\"10d0\",\"stateName\":\"\\ub300\\uad6c\",\"cities\":[{\"cityId\":\"10d010\",\"cityName\":\"\\ub0a8\\uad6c\"},{\"cityId\":\"10d020\",\"cityName\":\"\\ub2ec\\uc11c\\uad6c\"},{\"cityId\":\"10d030\",\"cityName\":\"\\ub2ec\\uc131\\uad70\"},{\"cityId\":\"10d040\",\"cityName\":\"\\ub3d9\\uad6c\"},{\"cityId\":\"10d050\",\"cityName\":\"\\ubd81\\uad6c\"},{\"cityId\":\"10d060\",\"cityName\":\"\\uc11c\\uad6c\"},{\"cityId\":\"10d070\",\"cityName\":\"\\uc218\\uc131\\uad6c\"},{\"cityId\":\"10d080\",\"cityName\":\"\\uc911\\uad6c\"}]},{\"stateId\":\"10e0\",\"stateName\":\"\\uc778\\ucc9c\",\"cities\":[{\"cityId\":\"10e010\",\"cityName\":\"\\uac15\\ud654\\uad70\"},{\"cityId\":\"10e020\",\"cityName\":\"\\uacc4\\uc591\\uad6c\"},{\"cityId\":\"10e030\",\"cityName\":\"\\ub0a8\\uad6c\"},{\"cityId\":\"10e040\",\"cityName\":\"\\ubbf8\\ucd94\\ud640\\uad6c\"},{\"cityId\":\"10e050\",\"cityName\":\"\\ub3d9\\uad6c\"},{\"cityId\":\"10e060\",\"cityName\":\"\\ubd80\\ud3c9\\uad6c\"},{\"cityId\":\"10e070\",\"cityName\":\"\\uc11c\\uad6c\"},{\"cityId\":\"10e080\",\"cityName\":\"\\uc5f0\\uc218\\uad6c\"},{\"cityId\":\"10e090\",\"cityName\":\"\\uc639\\uc9c4\\uad70\"},{\"cityId\":\"10e0a0\",\"cityName\":\"\\uc911\\uad6c\"},{\"cityId\":\"10e0b0\",\"cityName\":\"\\ub0a8\\ub3d9\\uad6c\"}]},{\"stateId\":\"10f0\",\"stateName\":\"\\ubd80\\uc0b0\",\"cities\":[{\"cityId\":\"10f010\",\"cityName\":\"\\uac15\\uc11c\\uad6c\"},{\"cityId\":\"10f020\",\"cityName\":\"\\uae08\\uc815\\uad6c\"},{\"cityId\":\"10f030\",\"cityName\":\"\\uae30\\uc7a5\\uad70\"},{\"cityId\":\"10f040\",\"cityName\":\"\\ub0a8\\uad6c\"},{\"cityId\":\"10f050\",\"cityName\":\"\\ub3d9\\uad6c\"},{\"cityId\":\"10f060\",\"cityName\":\"\\ub3d9\\ub798\\uad6c\"},{\"cityId\":\"10f070\",\"cityName\":\"\\ubd80\\uc0b0\\uc9c4\\uad6c\"},{\"cityId\":\"10f080\",\"cityName\":\"\\ubd81\\uad6c\"},{\"cityId\":\"10f090\",\"cityName\":\"\\uc0ac\\uc0c1\\uad6c\"},{\"cityId\":\"10f0a0\",\"cityName\":\"\\uc0ac\\ud558\\uad6c\"},{\"cityId\":\"10f0b0\",\"cityName\":\"\\uc11c\\uad6c\"},{\"cityId\":\"10f0c0\",\"cityName\":\"\\uc218\\uc601\\uad6c\"},{\"cityId\":\"10f0d0\",\"cityName\":\"\\uc5f0\\uc81c\\uad6c\"},{\"cityId\":\"10f0e0\",\"cityName\":\"\\uc601\\ub3c4\\uad6c\"},{\"cityId\":\"10f0f0\",\"cityName\":\"\\uc911\\uad6c\"},{\"cityId\":\"10f0g0\",\"cityName\":\"\\ud574\\uc6b4\\ub300\\uad6c\"}]},{\"stateId\":\"10g0\",\"stateName\":\"\\uad11\\uc8fc\",\"cities\":[{\"cityId\":\"10g010\",\"cityName\":\"\\uad11\\uc0b0\\uad6c\"},{\"cityId\":\"10g020\",\"cityName\":\"\\ub0a8\\uad6c\"},{\"cityId\":\"10g030\",\"cityName\":\"\\ub3d9\\uad6c\"},{\"cityId\":\"10g040\",\"cityName\":\"\\ubd81\\uad6c\"},{\"cityId\":\"10g050\",\"cityName\":\"\\uc11c\\uad6c\"}]},{\"stateId\":\"10h0\",\"stateName\":\"\\ub300\\uc804\",\"cities\":[{\"cityId\":\"10h010\",\"cityName\":\"\\ub300\\ub355\\uad6c\"},{\"cityId\":\"10h020\",\"cityName\":\"\\ub3d9\\uad6c\"},{\"cityId\":\"10h030\",\"cityName\":\"\\uc11c\\uad6c\"},{\"cityId\":\"10h040\",\"cityName\":\"\\uc720\\uc131\\uad6c\"},{\"cityId\":\"10h050\",\"cityName\":\"\\uc911\\uad6c\"}]},{\"stateId\":\"10i0\",\"stateName\":\"\\uc138\\uc885\",\"cities\":[{\"cityId\":\"10i010\",\"cityName\":\"\\uc138\\uc885\\uc2dc\"}]}]";

    try {
        // Parse the JSON array
        const data = JSON.parse(jsonString);

        // Iterate through each state in the array
        for (const state of data) {
            // Extract state information
            const { stateId, stateName, cities } = state;

            // Reference to the Firestore collection for states
            const stateRef = db.collection('states').doc(stateId);

            // Save state information to Firestore
            await stateRef.set({
                name: stateName,
            });

            // Reference to the Firestore collection for cities under the state
            const citiesRef = stateRef.collection('cities');

            // Save city information to Firestore
            for (const city of cities) {
                const { cityId, cityName } = city;
                await citiesRef.doc(cityId).set({
                    name: cityName,
                });
            }
        }

        return 'Data saved successfully!';
    } catch (error) {
        console.error('Error saving data to Firestore:', error);
        throw new Error('Error saving data to Firestore');
    }
});
 */